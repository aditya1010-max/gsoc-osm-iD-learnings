Big principle first (this matters most)

kbar in iD should feel:

Invisible when you don’t need it

Obvious when you do

Never louder than the map itself

It is not a product feature.
It is a power tool.

1️⃣ Overlay (background)

Full-screen

Semi-transparent dark layer

Click outside = close

No animation-heavy blur

Why?

Focuses attention

Signals “modal mode”

Matches iD’s existing confirmation overlays

✅ Your current .kbar-overlay is correct


2️⃣ Palette container (modal)

Centered horizontally

Slightly above vertical center (not dead center)

Fixed max width (≈ 500–600px)

Visual tone

Neutral

Flat

No shadows fighting the map

This is not Material UI / macOS Spotlight glam.


3️⃣ Search input (most important element)

Always at the top

Auto-focused on open

Placeholder like:

“Type a command…”

Key rules

No icons inside input

No “search” button

Keyboard-only first

If typing feels even slightly laggy → UI has failed.


4️⃣ Results list

Vertical list

Single-line items

No wrapping by default

Each item:

[ icon ]  Action Title


Optional later:

[ icon ]  Action Title        ⌘⇧P


But not in v1.