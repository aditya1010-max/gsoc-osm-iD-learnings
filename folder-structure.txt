kbar/
├─ index.js      → orchestrates everything
├─ registry.js   → defines WHAT actions exist
├─ palette.js    → builds DOM structure
├─ render.js     → renders action list
├─ filter.js     → search logic
├─ events.js     → keyboard + input handlers
├─ lifecycle.js  → open / close / cleanup



index.js is the entry point and orchestrator. It wires all the other modules together, initializes state, and exposes the public API used by the rest of the app (for example: open, close, toggle). If you want to understand how the whole kbar system boots up and flows end-to-end, this is the file to read first.


registry.js defines what actions exist. It’s purely declarative: commands, their ids, titles, shortcuts, icons, and what happens when you select them. This file does not care about UI or DOM — it’s the source of truth for “what can the command palette do?”


palette.js is responsible for building the DOM structure of the command palette. It creates the container, input field, list wrapper, and any structural elements needed. No logic, no filtering — just “what elements exist and how they’re nested.”


render.js handles how actions appear on screen. Given a list of actions (usually already filtered), it converts them into DOM nodes, updates the list, highlights selections, and keeps the UI in sync with state. This is where visual updates happen.