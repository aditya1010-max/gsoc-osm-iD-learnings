What are presets in OSM-iD?

A preset is a human-friendly template for tagging map features.

In OpenStreetMap, everything is just tags:

amenity=restaurant
cuisine=indian
name=Sharma Dhaba

Presets turn that into:

ğŸ´ Restaurant
Name: **\_\_**
Cuisine: **\_\_**
Outdoor seating: Yes / No

So instead of:

memorizing tag keys

remembering valid values

typing everything manually

â€¦the editor guides you.

Mental model

Preset = â€œWhat is this thing?â€ + â€œWhich tags should it have?â€

Where presets live

In iD, presets are defined in JSON files:

data/
â””â”€ presets/
â”œâ”€ presets.json â† main definitions
â”œâ”€ categories.json
â”œâ”€ fields.json â† reusable form fields
â”œâ”€ defaults.json
â””â”€ ...

Example preset (simplified):

{
"restaurant": {
"name": "Restaurant",
"geometry": ["point", "area"],
"tags": {
"amenity": "restaurant"
},
"fields": ["name", "cuisine", "opening_hours"]
}
}

What a preset contains

Every preset answers four key questions:

1ï¸âƒ£ What geometry is allowed?
"geometry": ["point", "area"]

Can this be:

a point?

a line?

an area?

A road â‰  a bench â‰  a building.

2ï¸âƒ£ Which tags define it?
"tags": {
"amenity": "restaurant"
}

These tags:

identify the feature

are applied automatically when you select the preset

3ï¸âƒ£ Which fields should be shown?
"fields": ["name", "cuisine", "phone"]

Each field maps to:

an OSM tag

an input type (text, combo, checkbox)

4ï¸âƒ£ How it appears to users
"name": "Restaurant"
"icon": "restaurant"

This is pure UI â€” searchable, translatable, friendly.

What is the Preset Manager?

The Preset Manager is the system that loads, organizes, filters, and serves presets to the editor.

Think of it as:

â€œGiven this feature on the map, what presets make sense right now?â€

Responsibilities of the Preset Manager

It:

Loads all preset definitions

Indexes them for fast search

Filters presets by:

geometry

existing tags

Chooses best-match presets

Provides presets to:

the sidebar

search

shortcuts

(yes) your kbar

Why iD needs presets (this is the key part)
ğŸš« Without presets

Users would need to:

know every OSM tag

type keys/values manually

remember tagging conventions

make fewer edits (or wrong ones)

Thatâ€™s impossible at global scale.

âœ… With presets

Presets provide:

1ï¸âƒ£ Accessibility

A first-time mapper can add:

a school

a hospital

a road

â€¦without knowing anything about OSM tagging.

2ï¸âƒ£ Consistency

Instead of:

amenity=resturant âŒ
amenity=restaurant âœ…

Presets:

enforce correct values

reduce spelling errors

prevent weird tagging

3ï¸âƒ£ Discoverability

Users donâ€™t search for:

amenity=place_of_worship

They search for:

â€œTempleâ€, â€œMosqueâ€, â€œChurchâ€

Presets bridge that gap.

4ï¸âƒ£ Smart UI

Presets let iD:

show relevant fields only

hide invalid options

adapt forms dynamically

A Bench doesnâ€™t need opening_hours.
A Hospital does.

5ï¸âƒ£ Internationalization

Preset names + fields use l10n.

Same preset:

â€œRestaurantâ€ (English)

â€œRestauranteâ€ (Spanish)

â€œà¤°à¥‡à¤¸à¥à¤¤à¤°à¤¾à¤‚â€ (Hindi)

Same data model, global UI.

Presets vs Raw Tags (important distinction)
Concept Purpose
Tags The actual data stored in OSM
Presets UI helpers for applying tags
Fields Reusable form inputs
Preset Manager The brain that connects it all

Presets do not change OSM rules â€” they guide users to follow them.

How this connects to your kbar work (very relevant for GSoC)

A powerful kbar should integrate presets, not replace them.

Bad kbar:

Add restaurant
â†’ applies amenity=restaurant blindly

Good kbar:

Add restaurant
â†’ enters draw mode
â†’ applies restaurant preset
â†’ opens preset form

That means:

you ask the preset manager for presets

you reuse existing tagging logic

maintainers trust your change

If you bypass presets, reviewers will push back hard.

TL;DR

Preset = human-friendly template for OSM tags

Preset Manager = system that loads, filters, and serves presets

iD needs presets to be:

usable

consistent

international

beginner-friendly

Presets are UI, tags are data

Any serious iD feature (like kbar) must respect presets
